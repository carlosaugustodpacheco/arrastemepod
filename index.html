<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meu Podcast - Atualização</title> <!-- Alteração no título -->
    <link rel="stylesheet" href="styles.css"> <!-- Link para o CSS -->
</head>
<body>

    <!-- Header com logo e menu de navegação -->
    <header>
        <div class="logo">
            <img src="logo.jpg" alt="Logo do Podcast"> <!-- Coloque a logo do seu podcast aqui -->
        </div>
        <nav>
            <a href="#">Home</a>
            <a href="#">Podcast</a>
            <a href="#">Sobre</a>
            <a href="#">Apoie-nos</a>
        </nav>
    </header>

    <!-- Banner Principal -->
    <section class="banner">
        <img src="banner.jpg" alt="Imagem de fundo do podcast"> <!-- Coloque sua imagem de fundo aqui -->
    </section>

    <!-- Sobre o Podcast -->
    <section class="sobre">
        <div class="perfil">
            <img src="perfil.jpg" alt="Imagem do podcast">
        </div>
        <div class="descricao">
            <p>Meu Podcast é sobre casos incríveis e histórias intrigantes.</p>
            <div class="links-sociais">
                <a href="#">Spotify</a>
                <a href="#">iTunes</a>
                <a href="#">YouTube</a>
            </div>
        </div>
    </section>

    <!-- Episódios Recentes -->
    <section class="episodios">
        <h2>Últimos Episódios</h2>
        <div id="episodes" class="episodios-container"></div> <!-- Container para os episódios -->
    </section>

    <script>
        const rssUrl = 'https://anchor.fm/s/da7e6a28/podcast/rss';
        const proxyUrl = 'https://cors-anywhere.herokuapp.com/'; // Proxy

        async function fetchEpisodes() {
            try {
                const response = await fetch(`${proxyUrl}${encodeURIComponent(rssUrl)}`);
                if (!response.ok) throw new Error('Network response was not ok');
                const data = await response.text();
                const parser = new DOMParser();
                const xmlDoc = parser.parseFromString(data, 'text/xml');
                const items = xmlDoc.getElementsByTagName('item');
                const episodesContainer = document.getElementById('episodes');

                for (let i = 0; i < Math.min(items.length, 6); i++) { // Limitar a 6 episódios
                    const title = items[i].getElementsByTagName('title')[0].textContent;
                    const link = items[i].getElementsByTagName('link')[0].textContent;
                    const description = items[i].getElementsByTagName('description')[0].textContent;
                    const imageUrl = items[i].getElementsByTagName('itunes:image')[0].getAttribute('href');

                    const episodeDiv = document.createElement('div');
                    episodeDiv.classList.add('episodio');
                    episodeDiv.innerHTML = `
                        <div class="imagem-episodio">
                            <img src="${imageUrl}" alt="${title}">
                        </div>
                        <div class="info-episodio">
                            <h3><a href="${link}" target="_blank">${title}</a></h3>
                            <p>${description}</p>
                        </div>
                    `;
                    episodesContainer.appendChild(episodeDiv);
                }
            } catch (error) {
                console.error('Error fetching the RSS feed:', error);
            }
        }

        fetchEpisodes();
    </script>

</body>
</html>
